Instruction for Replit â€” Chat Completion Flow with Smart Exit Options

Objective: When a customer finishes interacting with the KANIOU chatbot, they should be gently asked if they want to end the conversation or see other helpful options. If they select â€œSee suggestions,â€ the chatbot should re-display the smart suggestion buttons from the beginning.

â¸»

âœ… Implementation Requirements:

Trigger Timing:
	â€¢	The system should detect when the conversation reaches a natural stopping point:
	â€¢	No user input for 30 seconds after last chatbot message, OR
	â€¢	If the chatbot responds with a concluding message like:
â€œKan ik u ergens anders mee helpen?â€ or
â€œHeeft u verder nog vragen?â€

â¸»

ğŸ§  Step-by-Step Flow:
	1.	Chatbot Completion Detection:
	â€¢	Monitor if the user stops responding for 30+ seconds
	â€¢	OR if chatbot ends with a closing line (detect standard closing intent)
	2.	Auto-Prompt:
	â€¢	Display the following message in the same language the user was using:
	â€¢	Dutch:
â€œWilt u deze chat afsluiten of andere opties bekijken?â€
	â€¢	French:
â€œSouhaitez-vous terminer cette conversation ou voir dâ€™autres options ?â€
	â€¢	English:
â€œWould you like to end this chat or see more options?â€
	â€¢	Turkish:
â€œSohbeti sonlandÄ±rmak mÄ± istersiniz yoksa baÅŸka seÃ§enekleri mi gÃ¶rmek istersiniz?â€
	3.	Display Buttons:
	â€¢	Add two buttons under the prompt:
	â€¢	âœ… â€œBekijk suggestiesâ€ (or its translated version)
	â€¢	âŒ â€œSluit chat afâ€ (or its translated version)
	4.	If user clicks â€œBekijk suggestiesâ€:
	â€¢	Re-trigger the 6 smart suggestion buttons:
	â€¢	Free measurement
	â€¢	Style advice
	â€¢	Quote request
	â€¢	Product gallery
	â€¢	Product information
	â€¢	Window treatment help
	5.	If user clicks â€œSluit chat afâ€:
	â€¢	Show a polite thank-you message:
	â€¢	â€œBedankt voor uw bezoek aan KANIOU. We staan altijd voor u klaar!â€
	â€¢	And reset the chatbot state in case the user reopens it later.

â¸»

ğŸ§ª Final Test Checklist:
	â€¢	Auto-prompt appears after inactivity or closing message
	â€¢	Two buttons are translated and rendered correctly
	â€¢	â€œBekijk suggestiesâ€ reactivates the main options
	â€¢	â€œSluit chat afâ€ thanks the user and clears session
	â€¢	Works in all four supported languages
	â€¢	Mobile responsive with no layout overflow
