<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Cookiebot Script - MUST BE FIRST for GDPR compliance -->
    <script id="Cookiebot"
      src="https://consent.cookiebot.com/uc.js"
      data-cbid="277bd293-9336-4f15-ba87-4c760a56129b"
      data-blockingmode="auto"
      type="text/javascript">
    </script>
    
    <!-- Cookiebot CSS Enhancement for Better Visibility -->
    <style>
      /* Ensure Cookiebot banner is always visible and properly positioned */
      #CybotCookiebotDialog,
      #CybotCookiebotDialogBodyUnderlay,
      #CybotCookiebotDialogBody,
      [id*="CybotCookiebot"] {
        z-index: 999999 !important;
        position: fixed !important;
      }
      
      /* Ensure no conflicts with site styles */
      #CybotCookiebotDialog {
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
        bottom: 0 !important;
        left: 0 !important;
        right: 0 !important;
        width: 100% !important;
        max-width: 100% !important;
        margin: 0 !important;
        padding: 0 !important;
        transform: none !important;
        background: rgba(0, 0, 0, 0.8) !important;
      }
      
      /* Banner content styling */
      #CybotCookiebotDialogBody {
        background: white !important;
        border: none !important;
        border-radius: 8px 8px 0 0 !important;
        box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.25) !important;
        margin: 0 !important;
        padding: 20px !important;
        max-width: 100% !important;
        width: 100% !important;
      }
      
      /* Ensure buttons are visible */
      #CybotCookiebotDialogBody button,
      #CybotCookiebotDialogBody input[type="button"],
      #CybotCookiebotDialogBody input[type="submit"] {
        display: inline-block !important;
        visibility: visible !important;
        opacity: 1 !important;
        min-height: 40px !important;
        padding: 8px 16px !important;
        margin: 4px !important;
        border: 1px solid #ccc !important;
        border-radius: 4px !important;
        background: #f8f9fa !important;
        color: #333 !important;
        cursor: pointer !important;
        font-size: 14px !important;
        font-weight: 500 !important;
      }
      
      /* Accept button styling */
      #CybotCookiebotDialogBody button[id*="Accept"],
      #CybotCookiebotDialogBody input[id*="Accept"] {
        background: #28a745 !important;
        color: white !important;
        border-color: #28a745 !important;
      }
      
      /* Decline button styling */
      #CybotCookiebotDialogBody button[id*="Decline"],
      #CybotCookiebotDialogBody input[id*="Decline"] {
        background: #dc3545 !important;
        color: white !important;
        border-color: #dc3545 !important;
      }
      
      /* Settings button styling */
      #CybotCookiebotDialogBody button[id*="Settings"],
      #CybotCookiebotDialogBody input[id*="Settings"] {
        background: #6c757d !important;
        color: white !important;
        border-color: #6c757d !important;
      }
      
      /* Mobile responsive */
      @media (max-width: 768px) {
        #CybotCookiebotDialogBody {
          padding: 16px !important;
        }
        
        #CybotCookiebotDialogBody button,
        #CybotCookiebotDialogBody input[type="button"],
        #CybotCookiebotDialogBody input[type="submit"] {
          width: 100% !important;
          margin: 4px 0 !important;
          min-height: 44px !important;
        }
      }
    </style>
    
    <!-- Cookiebot Initialization Script -->
    <script>
      // Initialize Cookiebot properly without interference
      window.addEventListener('load', function() {
        console.log('üç™ Initializing Cookiebot...');
        
        // Clear any stored consent to ensure banner shows on first visit
        const isFirstVisit = !document.cookie.includes('CookieConsent=');
        
        if (isFirstVisit) {
          console.log('üç™ First visit detected - clearing any cached consent');
          
          // Clear any cached consent
          ['cookie_consent'].forEach(key => {
            localStorage.removeItem(key);
            sessionStorage.removeItem(key);
          });
        }
        
        // Wait for Cookiebot to load and initialize
        let attempts = 0;
        const maxAttempts = 50;
        
        const initializeCookiebot = setInterval(() => {
          attempts++;
          
          if (window.Cookiebot) {
            console.log('‚úÖ Cookiebot loaded successfully');
            
            // Set up proper callbacks
            window.CookiebotCallback_OnLoad = function() {
              console.log('üç™ Cookiebot OnLoad callback fired');
            };
            
            window.CookiebotCallback_OnAccept = function() {
              console.log('üç™ Cookiebot OnAccept callback fired');
            };
            
            window.CookiebotCallback_OnDecline = function() {
              console.log('üç™ Cookiebot OnDecline callback fired');
            };
            
            window.CookiebotCallback_OnDialogInit = function() {
              console.log('üç™ Cookiebot Dialog initialized');
            };
            
            window.CookiebotCallback_OnDialogDisplay = function() {
              console.log('üç™ Cookiebot Dialog displayed');
            };
            
            clearInterval(initializeCookiebot);
          } else if (attempts >= maxAttempts) {
            console.error('‚ùå Cookiebot failed to load after maximum attempts');
            clearInterval(initializeCookiebot);
          }
        }, 100);
      });
    </script>
    
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    

    
    <!-- Development tools - marked for Cookiebot -->
    <script type="text/plain" data-cookieconsent="preferences" src="https://replit.com/public/js/replit-dev-banner.js"></script>
  </body>
</html>